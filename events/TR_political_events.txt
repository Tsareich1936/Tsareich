######################
## POLITICAL EVENTS ##
######################

add_namespace = TR_political
# Socialism on the Rise
country_event = {
	id = TR_political.1
	title = TR_political.1.t
	desc = TR_political.1.d
	picture = GFX_report_event_worker_protests

	trigger = {
		NOT = { has_government = socialism }
		socialism > 0.6
		NOT = { socialism > 0.7 }
		check_has_focus_tree_to_switch_to_communism = yes
		NOT = {
			AND = {
				original_tag = SPR
			}
		}
		NOT = {
			tag = SRI
		}
	}

	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 30
	}

	# We need a referendum
	option = {
		name = TR_political.1.a
		add_political_power = -100
		set_politics = {
			ruling_party = socialism
			elections_allowed = no
		}
	}

	# Not right now
	option = {
		name = TR_political.1.b
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = impending_civil_war_tt
	}
}
# Class Conflicts Divide [Root.GetName]
country_event = {
	id = TR_political.2
	title = political.2.t
	desc = political.2.d
	picture = GFX_report_event_gathering_protest
	
	trigger = {
		# has_idea_with_trait = socialist_revolutionary
		NOT = { has_government = socialism }
		socialism > 0.2
		NOT = { socialism > 0.59 }
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = socialism_popular_movement
		}
	}
	
	option = {
		name = TR_political.2.a
		add_popularity = {
			ideology = socialism
			popularity = 0.05
		}
		add_stability = -0.05
	}
}
# Socialdemocratic on the rise
country_event = {
	id = TR_political.3
	title = TR_political.3.t
	desc = TR_political.3.d
	picture = GFX_report_event_worker_protests

	trigger = {
		NOT = { has_government = socialdemocratic }
		socialdemocratic > 0.6
		NOT = { socialdemocratic > 0.7 }
		check_has_focus_tree_to_switch_to_communism = yes
		NOT = {
			AND = {
				original_tag = SPR
			}
		}
		NOT = {
			tag = SRI
		}
	}

	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 30
	}

	# We need a referendum
	option = {
		name = TR_political.3.a
		add_political_power = -100
		set_politics = {
			ruling_party = socialdemocratic
			elections_allowed = no
		}
	}

	# Not right now
	option = {
		name = TR_political.3.b
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = impending_civil_war_tt
	}
}
# Class Conflicts Divide [Root.GetName]
country_event = {
	id = TR_political.4
	title = political.4.t
	desc = political.4.d
	picture = GFX_report_event_gathering_protest
	
	trigger = {
		# has_idea_with_trait = socialist_revolutionary
		NOT = { has_government = socialdemocratic }
		socialdemocratic > 0.2
		NOT = { socialdemocratic > 0.59 }
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = socialdemocratic_popular_movement
		}
	}
	
	option = {
		name = TR_political.4.a
		add_popularity = {
			ideology = socialdemocratic
			popularity = 0.05
		}
		add_stability = -0.05
	}
}
# conservatism on the rise
country_event = {
	id = TR_political.5
	title = TR_political.5.t
	desc = TR_political.5.d
	picture = GFX_report_event_worker_protests

	trigger = {
		NOT = { has_government = conservatism }
		conservatism > 0.6
		NOT = { conservatism > 0.7 }
		check_has_focus_tree_to_switch_to_communism = yes
		NOT = {
			AND = {
				original_tag = SPR
			}
		}
		NOT = {
			tag = SRI
		}
	}

	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 30
	}

	# We need a referendum
	option = {
		name = TR_political.5.a
		add_political_power = -100
		set_politics = {
			ruling_party = conservatism
			elections_allowed = no
		}
	}

	# Not right now
	option = {
		name = TR_political.5.b
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = impending_civil_war_tt
	}
}
# Class Conflicts Divide [Root.GetName]
country_event = {
	id = TR_political.6
	title = political.6.t
	desc = political.6.d
	picture = GFX_report_event_gathering_protest
	
	trigger = {
		# has_idea_with_trait = socialist_revolutionary
		NOT = { has_government = conservatism }
		conservatism > 0.2
		NOT = { conservatism > 0.59 }
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = conservatism_popular_movement
		}
	}
	
	option = {
		name = TR_political.4.a
		add_popularity = {
			ideology = conservatism
			popularity = 0.05
		}
		add_stability = -0.05
	}
}
### > 50% support
#socialism
country_event = {
	id = TR_political.13
	title = TR_political.13.t
	desc = TR_political.13.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes
	option = {
		name = TR_political.13.a
		set_politics = {
			ruling_party = socialism
			elections_allowed = no
		}
		add_stability = -0.05
	}
}
#socialdemocratic
country_event = {
	id = TR_political.14
	title = TR_political.14.t
	desc = TR_political.14.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes
	option = {
		name = TR_political.14.a
		set_politics = {
			ruling_party = socialdemocratic
			elections_allowed = no
		}
		add_stability = -0.05
	}
}
#consevatism
country_event = {
	id = TR_political.15
	title = TR_political.15.t
	desc = TR_political.15.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes
	option = {
		name = TR_political.15.a
		set_politics = {
			ruling_party = conservatism
			elections_allowed = no
		}
		add_stability = -0.05
	}
}
### Revolution
# socialist
country_event = {
	id = TR_political.19
	title = TR_political.19.t
	desc = TR_political.19.d
	picture = GFX_report_event_fascist_militia

	trigger = {
		socialism > 0.7
		num_of_controlled_states > 1
		NOT = { has_government = socialism }
		has_civil_war = no
		check_has_focus_tree_to_switch_to_fascism = yes
		NOT = {
			AND = {
				original_tag = SPR
			}
		}
		NOT = {
			tag = SRI
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	immediate = {
		# hidden_effect = { remove_ideas = socialist_revolutionaries }
	}

	option = {
		name = TR_political.19.a
		ai_chance = {
			factor = 0
		}
		start_civil_war = {
			ideology = socialism
			size = 0.5
		}
	}

	option = {
		name = TR_political.19.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				has_government = fascism
			}
			start_civil_war = {
				ruling_party = socialism
				ideology = fascism
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = democratic
			}
			start_civil_war = {
				ruling_party = socialism
				ideology = democratic
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = communism
			}
			start_civil_war = {
				ruling_party = socialism
				ideology = communism
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = socialism
				ideology = neutrality
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = conservatism
			}
			start_civil_war = {
				ruling_party = socialism
				ideology = conservatism
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = socialdemocratic
			}
			start_civil_war = {
				ruling_party = socialism
				ideology = socialdemocratic
				size = 0.5
				keep_political_leader = yes
			}
		}
		# if = {
		# 	limit = {
		# 		has_government = socialism
		# 	}
		# 	start_civil_war = {
		# 		ruling_party = socialism
		# 		ideology = socialism
		# 		size = 0.5
		# 		keep_political_leader = yes
		# 	}
		# }
	}

	# We need a referendum
	option = {
		name = TR_political.19.c
		trigger = {
			is_ai = yes
		}
		add_political_power = -100
		set_politics = {
			ruling_party = socialism
			elections_allowed = no
		}
	}
}
# socialdemocratic
country_event = {
	id = TR_political.20
	title = TR_political.20.t
	desc = TR_political.20.d
	picture = GFX_report_event_fascist_militia

	trigger = {
		socialdemocratic > 0.7
		num_of_controlled_states > 1
		NOT = { has_government = socialdemocratic }
		has_civil_war = no
		check_has_focus_tree_to_switch_to_fascism = yes
		NOT = {
			AND = {
				original_tag = SPR
			}
		}
		NOT = {
			tag = SRI
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	immediate = {
		# hidden_effect = { remove_ideas = socialist_revolutionaries }
	}

	option = {
		name = TR_political.20.a
		ai_chance = {
			factor = 0
		}
		start_civil_war = {
			ideology = socialdemocratic
			size = 0.5
		}
	}

	option = {
		name = TR_political.20.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				has_government = fascism
			}
			start_civil_war = {
				ruling_party = socialdemocratic
				ideology = fascism
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = democratic
			}
			start_civil_war = {
				ruling_party = socialdemocratic
				ideology = democratic
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = communism
			}
			start_civil_war = {
				ruling_party = socialdemocratic
				ideology = communism
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = socialdemocratic
				ideology = neutrality
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = conservatism
			}
			start_civil_war = {
				ruling_party = socialdemocratic
				ideology = conservatism
				size = 0.5
				keep_political_leader = yes
			}
		}
		# if = {
		# 	limit = {
		# 		has_government = socialdemocratic
		# 	}
		# 	start_civil_war = {
		# 		ruling_party = socialdemocratic
		# 		ideology = socialdemocratic
		# 		size = 0.5
		# 		keep_political_leader = yes
		# 	}
		# }
		if = {
			limit = {
				has_government = socialism
			}
			start_civil_war = {
				ruling_party = socialdemocratic
				ideology = socialism
				size = 0.5
				keep_political_leader = yes
			}
		}
	}

	# We need a referendum
	option = {
		name = TR_political.20.c
		trigger = {
			is_ai = yes
		}
		add_political_power = -100
		set_politics = {
			ruling_party = socialdemocratic
			elections_allowed = no
		}
	}
}
# conservatism
country_event = {
	id = TR_political.21
	title = TR_political.21.t
	desc = TR_political.21.d
	picture = GFX_report_event_fascist_militia

	trigger = {
		conservatism > 0.7
		num_of_controlled_states > 1
		NOT = { has_government = conservatism }
		has_civil_war = no
		check_has_focus_tree_to_switch_to_fascism = yes
		NOT = {
			AND = {
				original_tag = SPR
			}
		}
		NOT = {
			tag = SRI
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	immediate = {
		# hidden_effect = { remove_ideas = socialist_revolutionaries }
	}

	option = {
		name = TR_political.21.a
		ai_chance = {
			factor = 0
		}
		start_civil_war = {
			ideology = conservatism
			size = 0.5
		}
	}

	option = {
		name = TR_political.21.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				has_government = fascism
			}
			start_civil_war = {
				ruling_party = conservatism
				ideology = fascism
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = democratic
			}
			start_civil_war = {
				ruling_party = conservatism
				ideology = democratic
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = communism
			}
			start_civil_war = {
				ruling_party = conservatism
				ideology = communism
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = conservatism
				ideology = neutrality
				size = 0.5
				keep_political_leader = yes
			}
		}
		# if = {
		# 	limit = {
		# 		has_government = conservatism
		# 	}
		# 	start_civil_war = {
		# 		ruling_party = conservatism
		# 		ideology = conservatism
		# 		size = 0.5
		# 		keep_political_leader = yes
		# 	}
		# }
		if = {
			limit = {
				has_government = socialdemocratic
			}
			start_civil_war = {
				ruling_party = conservatism
				ideology = socialdemocratic
				size = 0.5
				keep_political_leader = yes
			}
		}
		if = {
			limit = {
				has_government = socialism
			}
			start_civil_war = {
				ruling_party = conservatism
				ideology = socialism
				size = 0.5
				keep_political_leader = yes
			}
		}
	}

	# We need a referendum
	option = {
		name = TR_political.21.c
		trigger = {
			is_ai = yes
		}
		add_political_power = -100
		set_politics = {
			ruling_party = conservatism
			elections_allowed = no
		}
	}
}