add_namespace = "TR_Russia"
add_namespace = "TR_Russia_news"


country_event = {
    id = TR_Russia.1
    hidden = yes
    fire_only_once = yes

    trigger = {
        country_exists = RUS
        date > 1936.1.17
    }

    immediate = {
        RUS = { country_event = { id = TR_Russia.2 } }
    }

    option = {
        name = TR_Russia.1.a
    }
}

#暗殺
country_event = {
    id = TR_Russia.2
    title = TR_Russia.2.t
    desc = TR_Russia.2.d
    picture = GFX_report_event_soviet_in_riga

    is_triggered_only = yes
    immediate = {
		hidden_effect = {
			RUS = {
				kill_country_leader = yes
				set_country_flag = Tsar_death
				promote_character = {
					character = RUS_notsar
					ideology = Neutrality
				}
			}
		}
	}
    option = {
        name = TR_Russia.2.a
        custom_effect_tooltip = TR_Russia.tt.1
        hidden_effect = {
			RUS = { country_event = { hours = 240 id = TR_Russia.3 } } 
            news_event = { hours = 24 id = TR_Russia_news.1 }
            }
		}    
    option = {
        name = TR_Russia.2.b
        ai_chance = { base = 0 }
        custom_effect_tooltip = TR_nosupport
        hidden_effect = {
			
		}
    }
}

#皇帝を誰に？
country_event = {
    id = TR_Russia.3
    title = TR_Russia.3.t
    desc = TR_Russia.3.d
    picture = GFX_report_event_generic_funeral

    is_triggered_only = yes

    option = {
        name = TR_Russia.3.a
        custom_effect_tooltip = TR_Russia.tt.2
        hidden_effect = {
			complete_national_focus = RUS_newtsar
            RUS = { 
				kill_country_leader = yes
				set_country_flag = Tsar_kirill
				promote_character = {
					character = RUS_kirill_vladimirovich
					ideology = Neutrality
				}
			}
		}
    }
    option = {
        name = TR_Russia.3.b
        ai_chance = { base = 0 }
        custom_effect_tooltip = TR_nosupport
        hidden_effect = {
			
		}
    }
}

# シベリア測量
country_event = {
    id = TR_Russia.4
    title = TR_Russia.4.t
    desc = TR_Russia.4.d
    is_triggered_only = yes

    immediate = {
        hidden_effect = {
            RUS = {
                clr_country_flag = RUS_full_siberia_decision
                clr_country_flag = RUS_one_selected_siberia_decision

                clr_country_flag = RUS_start_siberia_decision
            }
        }
    }

    option = {
        name = TR_Russia.4.a
        custom_effect_tooltip = TR_Russia_siberia_tt.1
        add_resource = {
            type = tungsten
            amount = 40
            state = 564
        }
        custom_effect_tooltip = TR_Russia_siberia_tt.2
        add_resource = {
            type = chromium
            amount = 30
            state = 565
        }
        if = {
            limit = {
                has_country_flag = RUS_selected_army_siberia_decision
            }
            custom_effect_tooltip = TR_Russia_siberia_tt.3
            army_experience = 100
            add_doctrine_cost_reduction = {
                cost_reduction = 0.5
                uses = 2
                category = land_doctrine
            }
        }
        if = {
            limit = {
                has_country_flag = RUS_selected_navy_siberia_decision
            }
            custom_effect_tooltip = TR_Russia_siberia_tt.4
            navy_experience = 100
            add_doctrine_cost_reduction = {
                cost_reduction = 0.5
                uses = 2
                category = naval_doctrine
            }
        }
        if = {
            limit = {
                has_country_flag = RUS_selected_air_siberia_decision
            }
            custom_effect_tooltip = TR_Russia_siberia_tt.5
            navy_experience = 100
            add_doctrine_cost_reduction = {
                cost_reduction = 0.5
                uses = 2
                category = air_doctrine
            }
        }
        if = {
            limit = {
                has_country_flag = RUS_selected_industry_siberia_decision
            }
            custom_effect_tooltip = TR_Russia_siberia_tt.6
            add_offsite_building = { type = industrial_complex level = 4 }
            add_offsite_building = { type = arms_factory level = 4 }
        }
        clr_country_flag = RUS_selected_army_siberia_decision
        clr_country_flag = RUS_selected_navy_siberia_decision
        clr_country_flag = RUS_selected_air_siberia_decision
        clr_country_flag = RUS_selected_industry_siberia_decision
    }
}




#テヘラン陥落
country_event = {
    id = TR_Russia.7
    hidden = yes
    fire_only_once = yes

    trigger = {
        country_exists = RUS
        PER = {
            surrender_progress > 0.8
        }
    }

    immediate = {
        RUS = { country_event = { id = TR_Russia.6 } }
    }

    option = {
        name = TR_Russia.6.a
    }
}

country_event = {
    id = TR_Russia.6
    title = TR_Russia.6.t
    desc = TR_Russia.6.d
    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = TR_Russia.6.a
        hidden_effect = {
            news_event = TR_Russia_news.3
            remove_ideas = RUS_war_against_PER
            white_peace = PER
            PER = {
                remove_ideas = TR_hidden_war_nosurrender
            }
            419 = {
                transfer_state_to = RUS
            }
            420 = {
                transfer_state_to = RUS
            }
            418 = {
                transfer_state_to = RUS
            }
            416 = {
                transfer_state_to = RUS
            }
            PER = {
                set_cosmetic_tag = PER_puppet_RUS
            }
            set_autonomy = {
                target = PER
                autonomous_state = autonomy_puppet
            }
        }
    }
}

### News ###

#皇帝暗殺
news_event = {
	id = TR_Russia_news.1
	title = TR_Russia_news.1.t
	desc = TR_Russia_news.1.d
	picture = GFX_news_event_generic_funeral
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = TR_Russia_news.1.a
		trigger = {
            AND = {
                NOT = {
				    has_government = communism
			    }
                NOT = {
				    tag = FIN
                    tag = ARM
                    tag = SYR
			    }
                NOT = {
                    tag = RUS
                }
            }
	}
}
    option = {
		name = TR_Russia_news.1.b
		trigger = {
            AND = {
				has_government = communism
                NOT = {
                    tag = FIN
                    tag = ARM
                    tag = SYR
			    }
                NOT = {
                    tag = RUS
                }
            }
		}
	}
    option = {
		name = TR_Russia_news.1.c
		trigger = {
            OR = {
                tag = RUS
                tag = FIN
                tag = ARM
                tag = SYR
            }
		}
	}

}

#帝国新政府
news_event = {
	id = TR_Russia_news.2
	title = TR_Russia_news.2.t
	desc = TR_Russia_news.2.d
	picture = GFX_news_event_ITA_vittorio_emanuele_III
	
	is_triggered_only = yes
	
	option = {
		name = TR_Russia_news.2.a
		trigger = {
            tag = RUS
	    }
}
    option = {
		name = TR_Russia_news.2.b
		trigger = {
            NOT = {
                tag = RUS
            }
		}
	}

}

#テヘラン条約
news_event = {
	id = TR_Russia_news.3
	title = TR_Russia_news.3.t
	desc = TR_Russia_news.3.d
	picture = GFX_news_event_generic_read_write
	major = yes
	is_triggered_only = yes
	
	option = {
		name = TR_Russia_news.3.a
		trigger = {
            tag = RUS
	    }
    }
    option = {
		name = TR_Russia_news.3.b
		trigger = {
            tag = PER
	    }
    }
    option = {
		name = TR_Russia_news.3.c
		trigger = {
            tag = ENG
		}
	}
    option = {
        name = TR_Russia_news.3.e
        trigger = {
            NOT = {
                tag = RUS
                tag = PER
                tag = ENG
            }
        }
    }

}
