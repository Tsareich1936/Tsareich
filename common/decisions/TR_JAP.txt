JAP_interservice_rivalry = {
	JAP_steel_for_guns = {

		icon = generic_tank

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			NOT = {
				has_country_flag = JAP_steel_for_ships
			}
		}
		visible = {
			NOT = {
				has_country_flag = JAP_steel_for_ships
			}
		}
		cost = 30
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 4
		}
		complete_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }

			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_navy_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_navy_dominant
					add_idea = JAP_interservice_rivalry_navy_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_navy_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_navy_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_army_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_army_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_army_strengthened
											add_idea = JAP_interservice_rivalry_army_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
			set_country_flag = JAP_steel_for_guns
		}
	}   
	JAP_steel_for_ships = {

		icon = generic_naval

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			NOT = {
				has_country_flag = JAP_steel_for_guns
			}
		}
		visible = {
			NOT = {
				has_country_flag = JAP_steel_for_guns
			}
		}
		cost = 30
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_army_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_army_dominant
					add_idea = JAP_interservice_rivalry_army_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_army_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_army_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_navy_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_navy_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_navy_strengthened
											add_idea = JAP_interservice_rivalry_navy_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			set_country_flag = JAP_steel_for_ships
		}
	}
	JAP_prioritize_army_aircraft_construction = {

		icon = generic_tank

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			NOT = {
				has_country_flag = JAP_prioritize_naval_aircraft_construction
			}
		}
		visible = {
			NOT = {
				has_country_flag = JAP_prioritize_naval_aircraft_construction
			}
		}
		cost = 30
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1938.9.1
			}
		}
		complete_effect = {
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			add_ideas = JAP_prioritize_army_aircraft_construction
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_navy_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_navy_dominant
					add_idea = JAP_interservice_rivalry_navy_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_navy_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_navy_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_army_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_army_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_army_strengthened
											add_idea = JAP_interservice_rivalry_army_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
			set_country_flag = JAP_prioritize_army_aircraft_construction
		}
	}
	JAP_prioritize_naval_aircraft_construction = {

		icon = generic_naval

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			NOT = {
				has_country_flag = JAP_prioritize_army_aircraft_construction
			}
		}
		visible = {
			NOT = {
				has_country_flag = JAP_prioritize_army_aircraft_construction
			}
		}
		cost = 30
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				date < 1938.9.1
			}
		}
		complete_effect = {
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_army_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_army_dominant
					add_idea = JAP_interservice_rivalry_army_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_army_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_army_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_navy_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_navy_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_navy_strengthened
											add_idea = JAP_interservice_rivalry_navy_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			add_ideas = JAP_prioritize_naval_aircraft_construction
			set_country_flag = JAP_prioritize_naval_aircraft_construction
		}
	}
	JAP_everybody_serves = {

		icon = generic_tank

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			NOT = {
				has_country_flag = JAP_draft_exemptions
			}
		}
		visible = {
			NOT = {
				has_country_flag = JAP_draft_exemptions
			}
		}
		cost = 30
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1939.1.1
			}
		}
		modifier = {
			conscription = 0.02
		}
		complete_effect = {
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_navy_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_navy_dominant
					add_idea = JAP_interservice_rivalry_navy_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_navy_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_navy_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_army_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_army_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_army_strengthened
											add_idea = JAP_interservice_rivalry_army_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
			set_country_flag = JAP_everybody_serves
		}
	}
	JAP_draft_exemptions = {

		icon = generic_naval

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			NOT = {
				has_country_flag = JAP_everybody_serves
			}
		}
		visible = {
			NOT = {
				has_country_flag = JAP_everybody_serves
			}
		}
		cost = 30
		days_remove = -1
		fire_only_once = yes
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				date < 1939.1.1
			}
		}
		modifier = {
			industrial_capacity_factory = 0.05
			industrial_capacity_dockyard = 0.05
		}
		complete_effect = {
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_army_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_army_dominant
					add_idea = JAP_interservice_rivalry_army_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_army_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_army_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_navy_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_navy_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_navy_strengthened
											add_idea = JAP_interservice_rivalry_navy_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			set_country_flag = JAP_draft_exemptions
		}
	}
	JAP_raiding_regiments = {

		icon = generic_tank

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			NOT = {
				has_country_flag = JAP_special_air_landing_force
			}
		}
		visible = {
			NOT = {
				has_country_flag = JAP_special_air_landing_force
			}
		}
		cost = 30
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1939.1.1
			}
		}
		modifier = {
			special_forces_cap = 0.02
		}
		complete_effect = {
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			set_country_flag = JAP_raiding_regiments
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_navy_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_navy_dominant
					add_idea = JAP_interservice_rivalry_navy_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_navy_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_navy_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_army_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_army_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_army_strengthened
											add_idea = JAP_interservice_rivalry_army_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
		}
	}
	JAP_special_air_landing_force = {

		icon = generic_naval

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			NOT = {
				has_country_flag = JAP_raiding_regiments
			}
		}
		visible = {
			NOT = {
				has_country_flag = JAP_raiding_regiments
			}
		}
		cost = 30
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1939.1.1
			}
		}
		modifier = {
			special_forces_attack_factor = 0.05 
			special_forces_defence_factor = 0.05
		}
		complete_effect = {
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			set_country_flag = JAP_special_air_landing_force
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_army_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_army_dominant
					add_idea = JAP_interservice_rivalry_army_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_army_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_army_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_navy_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_navy_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_navy_strengthened
											add_idea = JAP_interservice_rivalry_navy_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
		}
	}
	JAP_favor_army = {

		icon = generic_tank

		available = {
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			AND = {
				OR = { 
					has_country_flag = JAP_raiding_regiments 
					has_country_flag = JAP_special_air_landing_force
				}
				OR = { 
					has_country_flag = JAP_everybody_serves
					has_country_flag = JAP_draft_exemptions
				}
				OR = { 
					has_country_flag = JAP_prioritize_naval_aircraft_construction
					has_country_flag = JAP_prioritize_army_aircraft_construction
				}
				OR = { 
					has_country_flag = JAP_steel_for_guns
					has_country_flag = JAP_steel_for_ships
				}
			}
			
		}
		visible = {
			AND = {
				OR = { 
					has_country_flag = JAP_raiding_regiments 
					has_country_flag = JAP_special_air_landing_force
				}
				OR = { 
					has_country_flag = JAP_everybody_serves
					has_country_flag = JAP_draft_exemptions
				}
				OR = { 
					has_country_flag = JAP_prioritize_naval_aircraft_construction
					has_country_flag = JAP_prioritize_army_aircraft_construction
				}
				OR = { 
					has_country_flag = JAP_steel_for_guns
					has_country_flag = JAP_steel_for_ships
				}
			}
		}
		cost = 30
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		
		complete_effect = {
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_navy_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_navy_dominant
					add_idea = JAP_interservice_rivalry_navy_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_navy_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_navy_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_army_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_army_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_army_strengthened
											add_idea = JAP_interservice_rivalry_army_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
		}
	}
	JAP_favor_navy = {

		icon = generic_naval

		available = { 
			NOT = {
				has_country_flag = JAP_war_conferences_cd
			}
			AND = {
				OR = { 
					has_country_flag = JAP_raiding_regiments 
					has_country_flag = JAP_special_air_landing_force
				}
				OR = { 
					has_country_flag = JAP_everybody_serves
					has_country_flag = JAP_draft_exemptions
				}
				OR = { 
					has_country_flag = JAP_prioritize_naval_aircraft_construction
					has_country_flag = JAP_prioritize_army_aircraft_construction
				}
				OR = { 
					has_country_flag = JAP_steel_for_guns
					has_country_flag = JAP_steel_for_ships
				}
			}
			
		}
		visible = {
			AND = {
				OR = { 
					has_country_flag = JAP_raiding_regiments 
					has_country_flag = JAP_special_air_landing_force
				}
				OR = { 
					has_country_flag = JAP_everybody_serves
					has_country_flag = JAP_draft_exemptions
				}
				OR = { 
					has_country_flag = JAP_prioritize_naval_aircraft_construction
					has_country_flag = JAP_prioritize_army_aircraft_construction
				}
				OR = { 
					has_country_flag = JAP_steel_for_guns
					has_country_flag = JAP_steel_for_ships
				}
			}
		}
		cost = 30
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		
		complete_effect = {
			set_country_flag = { flag = JAP_war_conferences_cd value = 1 days = 180 }
			if = {
				limit = {
					JAP = {
						has_idea = JAP_interservice_rivalry_army_dominant
					}
				}
				swap_ideas = {
					remove_idea = JAP_interservice_rivalry_army_dominant
					add_idea = JAP_interservice_rivalry_army_strengthened
				}
				else = {

				    if = {
					    limit = {
						    JAP = {
						    	has_idea = JAP_interservice_rivalry_army_strengthened
						    }
					    }
					    swap_ideas = {
					    	remove_idea = JAP_interservice_rivalry_army_strengthened
					    	add_idea = JAP_interservice_rivalry_balanced
					    }
						else = {
					        if = {
								limit = {
									JAP = {
										has_idea = JAP_interservice_rivalry_balanced
									}
								}
								swap_ideas = {
									remove_idea = JAP_interservice_rivalry_balanced
									add_idea = JAP_interservice_rivalry_navy_strengthened
								}
								else = {
								    if = {
										limit = {
											JAP = {
												has_idea = JAP_interservice_rivalry_navy_strengthened
											}
										}
										swap_ideas = {
											remove_idea = JAP_interservice_rivalry_navy_strengthened
											add_idea = JAP_interservice_rivalry_navy_dominant
										}
									}
								}
							}
						}
				    }
				}
			}
	    }
	}
}

JAP_industry_Takahashi = {
	
	JAP_Civilian_factory_1 = {
		icon = generic_construction
		allowed = { always = no }
		available = {
			num_of_available_civilian_factories > 1
		}
		ai_will_do = {
			base = 200
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = JAP_Civilian_factory_1
			}
		}
		days_remove = 60
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25
	}

	JAP_Civilian_factory_2 = {
		ai_will_do = {
			base = 200
		}
		available = {
			num_of_available_civilian_factories > 1
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 180
        days_re_enable = 365
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25
	}

	JAP_Military_factory_1 = {
		icon = generic_construction
		ai_will_do = {
			base = 200
		}
		allowed = { always = no }
		available = {
			num_of_available_civilian_factories > 1
		}
		
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = JAP_Military_factory_1
			}
		}
		days_remove = 60
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25

	}

	JAP_Military_factory_2 = {
		ai_will_do = {
			base = 200
		}
		available = {
			num_of_available_civilian_factories > 1
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 180
        days_re_enable = 365
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25
	}

	JAP_Infrastructure_1 = {
		ai_will_do = {
			base = 200
		}
		icon = generic_construction
		allowed = { always = no }
		available = {
			num_of_available_civilian_factories > 1
		}
		
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = 	infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = JAP_Infrastructure_1
			}
		}
		days_remove = 60
        fire_only_once = yes
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25

	}

	JAP_Infrastructure_2 = {
		ai_will_do = {
			base = 200
		}
		available = {
			num_of_available_civilian_factories > 1
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 180
        days_re_enable = 365
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25
	}

	JAP_Naval_dockyard_1 = {
		ai_will_do = {
			base = 200
		}
		icon = generic_construction
		allowed = { always = no }
		available = {
			num_of_available_civilian_factories > 1
		}
		
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = 	dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = JAP_Naval_dockyard_1
			}
		}
		days_remove = 60
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25

	}

	JAP_Naval_dockyard_2 = {
		ai_will_do = {
			base = 200
		}
		
		available = {
			num_of_available_civilian_factories > 1
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 180
        days_re_enable = 365
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25
	}

	JAP_synthetic_refinery_1 = {
		ai_will_do = {
			base = 200
		}
		icon = generic_construction
		allowed = { always = no }
		available = {
			num_of_available_civilian_factories > 1
		}
		
		remove_effect= {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = 	synthetic_refinery
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = JAP_synthetic_refinery_1
			}
		}
		days_remove = 60
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25

	}

	JAP_synthetic_refinery_2 = {
		ai_will_do = {
			base = 200
		}
		
		available = {
			num_of_available_civilian_factories > 1
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = synthetic_refinery
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 180
        days_re_enable = 365
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25
	}

	JAP_air_base_1 = {
		ai_will_do = {
			base = 200
		}
		icon = generic_construction
		allowed = { always = no }
		available = {
			num_of_available_civilian_factories > 1
		}
		
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = 	air_base
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = JAP_air_base_1
			}
		}
		days_remove = 60
		fire_only_once = yes
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25

	}

	JAP_air_base_2 = {
		ai_will_do = {
			base = 200
		}
		available = {
			num_of_available_civilian_factories > 1
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		days_remove = 180
        days_re_enable = 365
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25
	}
}

JAP_Railway = {
	JAP_Railway_prepare_1 = {
		days_remove = 180
		fire_only_once = yes
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 5
		}
		cost = 30
		available = {
			num_of_available_civilian_factories > 5
		}
	}
	JAP_Railway_prepare_2 = {
		available = {
			has_decision = JAP_Railway_prepare_1
		}
		days_remove = 180
		fire_only_once = yes
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 5
		}
		available = {
			num_of_available_civilian_factories > 5
		}
		cost = 30
	}
	JAP_Railway_prepare_3 = {
		available = {
			has_decision = JAP_Railway_prepare_2
		}
		available = {
			num_of_available_civilian_factories > 5
		}
		days_remove = 180
		fire_only_once = yes
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 5
		}
		cost = 30
	}

	JAP_Railway = {
		available = {
			has_decision = JAP_Railway_prepare_3
		}
		fire_only_once = yes
		days_remove = 365
		icon = generic_construction
		allowed = {
			always = no
		}
		available = {
			num_of_available_civilian_factories > 10
		}
		modifier = {
			civilian_factory_use = 10
		}
		cost = 30
	    remove_effect = {
			build_railway = {
				path = { 1182 9938 13284 13310 7087 12097 13307 13308 10125 13345 13347 4142 11960 7072 13278 12031 12344 7212 4197 13277 11496 1092}
			}
			build_railway = {
				path = { 1182 9938 13284 13310 7087 12097 13307 13308 10125 13345 13347 4142 11960 7072 13278 12031 12344 7212 4197 13277 11496 1092}
			}
			build_railway = {
				path = { 1182 9938 13284 13310 7087 12097 13307 13308 10125 13345 13347 4142 11960 7072 13278 12031 12344 7212 4197 13277 11496 1092}
			}
			build_railway = {
				path = { 1182 9938 13284 13310 7087 12097 13307 13308 10125 13345 13347 4142 11960 7072 13278 12031 12344 7212 4197 13277 11496 1092}
			}
			country_event = TR_japan.6
		}
	}
}

JAP_NAVAL_PLAN_3 = { 
	JAP_NAVY_3_1_1 = {
		days_remove = 365
		fire_only_once = yes
		icon = generic_construction
		modifier = {
			civilian_factory_use = 20
			#dockyard_use = 10
		}
		cost = 100
		complete_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Amagi Class"
					type = ship_hull_heavy_2
					name_group = JAP_BB_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_bc_2
						front_1_custom_slot = empty
						mid_1_custom_slot = ship_secondaries_2
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_heavy_battery_2
					}
					# obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					allow_without_tech = yes
					type = ship_hull_light_2
					name = "Kagero Class"
					name_group = JAP_DE_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = dp_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_2
						mid_1_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_depth_charge_1
			
					}
					obsolete = no
				}
			}
		}
		remove_effect = {
			load_oob = TR_japan_navy_1
		} 
		allowed = {
			always = no
		}
		available = {
			tag = JAP
			num_of_available_civilian_factories > 20
		}
		
	}

    JAP_NAVY_3_1_2 = {
		days_remove = 365
		fire_only_once = yes
		icon = generic_construction
		modifier = {
			civilian_factory_use = 20
			#dockyard_use = 10
		}
		allowed = {
			always = no
		}
		available = {
			num_of_available_civilian_factories > 20
		}
		complete_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Yamato Class"
					type = ship_hull_super_heavy_1
					name_group = JAP_BB_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_battery_slot = ship_super_heavy_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_shbb
						front_1_custom_slot = ship_anti_air_1
						front_2_custom_slot = empty
						mid_1_custom_slot = empty
						mid_2_custom_slot = ship_secondaries_2
						mid_3_custom_slot = ship_secondaries_2
						rear_1_custom_slot = ship_super_heavy_battery_1
						rear_2_custom_slot = ship_airplane_launcher_1
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					allow_without_tech = yes
					type = ship_hull_light_2
					name = "Kagero Class"
					name_group = JAP_DE_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = dp_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_2
						mid_1_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_depth_charge_1
			
					}
					obsolete = no
				}
			}
		}
		remove_effect = {
			load_oob = TR_japan_navy_2
		} 
		cost = 100
	}
	
	JAP_NAVY_3_2_1 = {
		days_remove = 365
		fire_only_once = yes
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 20
			#dockyard_use = 10
		}
		available = {
			num_of_available_civilian_factories > 20
		}
		cost = 100
		complete_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Shokaku Class"
					type = ship_hull_carrier_1
					name_group = JAP_CV_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						front_1_custom_slot = ship_deck_space	
						front_2_custom_slot = ship_deck_space		
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Agano Class"
					type = ship_hull_cruiser_2
					name_group = JAP_CL_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_light_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_2
						fixed_ship_armor_slot = ship_armor_cruiser_2
						fixed_ship_secondaries_slot = dp_ship_secondaries_1
						front_1_custom_slot = ship_light_medium_battery_2
						mid_1_custom_slot = dp_ship_secondaries_2
						mid_2_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_airplane_launcher_1
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					allow_without_tech = yes
					type = ship_hull_light_2
					name = "Kagero Class"
					name_group = JAP_DE_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = dp_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_2
						mid_1_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_depth_charge_1
			
					}
					obsolete = no
				}
			}
			
		}
		remove_effect = {
			load_oob = TR_japan_navy_3
		}
	}

	JAP_NAVY_3_2_2 = {
		days_remove = 365
		fire_only_once = yes
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 20
			#dockyard_use = 10
		}
		available = {
			num_of_available_civilian_factories > 20
		}
		complete_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Shokaku Class"
					type = ship_hull_carrier_1
					name_group = JAP_CV_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						front_1_custom_slot = ship_deck_space	
						front_2_custom_slot = ship_deck_space		
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Amagi Class"
					type = ship_hull_heavy_2
					name_group = JAP_BB_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_bc_2
						front_1_custom_slot = empty
						mid_1_custom_slot = ship_secondaries_2
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_heavy_battery_2
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Agano Class"
					type = ship_hull_cruiser_2
					name_group = JAP_CL_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_light_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_2
						fixed_ship_armor_slot = ship_armor_cruiser_2
						fixed_ship_secondaries_slot = dp_ship_secondaries_1
						front_1_custom_slot = ship_light_medium_battery_2
						mid_1_custom_slot = dp_ship_secondaries_2
						mid_2_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_airplane_launcher_1
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					allow_without_tech = yes
					type = ship_hull_light_2
					name = "Kagero Class"
					name_group = JAP_DE_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = dp_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_2
						mid_1_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_depth_charge_1
			
					}
					obsolete = no
				}
			}

		}
		remove_effect = {
			load_oob = TR_japan_navy_4
		}
		cost = 100
	}
	
	JAP_NAVY_3_2_3 = {
		days_remove = 365
		fire_only_once = yes
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 20
			#dockyard_use = 10
		}
		available = {
			num_of_available_civilian_factories > 20
		}
		complete_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Shokaku Class"
					type = ship_hull_carrier_1
					name_group = JAP_CV_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						front_1_custom_slot = ship_deck_space	
						front_2_custom_slot = ship_deck_space		
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Amagi Class"
					type = ship_hull_heavy_2
					name_group = JAP_BB_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = empty
						mid_1_custom_slot = ship_secondaries_2
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_heavy_battery_2
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Agano Class"
					type = ship_hull_cruiser_2
					name_group = JAP_CL_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_light_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_2
						fixed_ship_armor_slot = ship_armor_cruiser_2
						fixed_ship_secondaries_slot = dp_ship_secondaries_1
						front_1_custom_slot = ship_light_medium_battery_2
						mid_1_custom_slot = dp_ship_secondaries_2
						mid_2_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_airplane_launcher_1
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					allow_without_tech = yes
					type = ship_hull_light_2
					name = "Kagero Class"
					name_group = JAP_DE_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = dp_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_2
						mid_1_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_depth_charge_1
			
					}
					obsolete = no
				}
			}
		}
		remove_effect = {
			load_oob = TR_japan_navy_5
		}
		cost = 100
	}
	
	JAP_NAVY_3_3_1 = {
		days_remove = 365
		fire_only_once = yes
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 20
			#dockyard_use = 10
		}
		available = {
			num_of_available_civilian_factories > 20
		}
		complete_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Shokaku Class"
					type = ship_hull_carrier_1
					name_group = JAP_CV_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						front_1_custom_slot = ship_deck_space	
						front_2_custom_slot = ship_deck_space		
					}
					obsolete = no
				}
		    }
		    if = {
			    limit = {
			    	has_dlc = "Man the Guns"
			    }
				create_equipment_variant = {
					name = "Agano Class"
					type = ship_hull_cruiser_2
					name_group = JAP_CL_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_light_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_2
						fixed_ship_armor_slot = ship_armor_cruiser_2
						fixed_ship_secondaries_slot = dp_ship_secondaries_1
						front_1_custom_slot = ship_light_medium_battery_2
						mid_1_custom_slot = dp_ship_secondaries_2
						mid_2_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_airplane_launcher_1
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					allow_without_tech = yes
					type = ship_hull_light_2
					name = "Kagero Class"
					name_group = JAP_DE_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = dp_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_2
						mid_1_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_depth_charge_1
			
					}
					obsolete = no
				}
			}
			
		
	    	if = {
		    	limit = {
		    		has_dlc = "Man the Guns"
		    	}
				create_equipment_variant = {
					allow_without_tech = yes
					name = "I-15 Class"
					type = ship_hull_submarine_2
					name_group = JAP_SS_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_1
						fixed_ship_engine_slot = sub_ship_engine_1
						rear_1_custom_slot = ship_mine_layer_sub
					}
					
				}
	    	}
		}
	   	cost = 100
		remove_effect = {
			load_oob = TR_japan_navy_6
		}
	}
	
	JAP_NAVY_3_3_2 = {
		days_remove = 365
		fire_only_once = yes
		icon = generic_construction
		allowed = { always = no }
		modifier = {
			civilian_factory_use = 20
			#dockyard_use = 10
		}
		available = {
			num_of_available_civilian_factories > 20
		}
		complete_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Zuiho Class"
					type = ship_hull_carrier_conversion_ca
					name_group = JAP_CVL_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Agano Class"
					type = ship_hull_cruiser_2
					name_group = JAP_CL_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_light_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_2
						fixed_ship_armor_slot = ship_armor_cruiser_2
						fixed_ship_secondaries_slot = dp_ship_secondaries_1
						front_1_custom_slot = ship_light_medium_battery_2
						mid_1_custom_slot = dp_ship_secondaries_2
						mid_2_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_airplane_launcher_1
					}
					obsolete = no
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					allow_without_tech = yes
					type = ship_hull_light_2
					name = "Kagero Class"
					name_group = JAP_DE_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = dp_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_2
						mid_1_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_depth_charge_1
			
					}
					obsolete = no
				}
			}
			
		    
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					allow_without_tech = yes
					type = ship_hull_submarine_2
					name = "I-15 Class"
					name_group = JAP_DE_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_2
						fixed_ship_engine_slot = sub_ship_engine_2
						rear_1_custom_slot = ship_mine_layer_sub
			
					}
				}
			}
		}
		remove_effect = {
			load_oob = TR_japan_navy_7
		}		
		cost = 100
	}
	
}

JAP_WAR_PLAN_COOP = {
	JAP_ENG = {
		allowed = {
			always = no
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			base = 100
			modifier = {
				add = -99
				has_country_flag = {
					flag = TR_japan.USA
					days < 365
				}
			}
			modifier = {
				add = -5
				has_country_flag = {
					flag = TR_japan.INS
					days < 365
				}
			}
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.FRA
					days < 365
				}
			}
		}
		complete_effect = {
			ENG = {
				country_event = {
					id = TR_japan.44
					days = 1
				}
			}

		}
	}
	JAP_USA = {
		allowed = {
			always = no
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			base = 100
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.ENG
					days < 365
				}

			}
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.FRA
					days < 365
				}
			}
			modifier = {
				add = -5
				has_country_flag = {
					flag = TR_japan.INS
					days < 365
				}
			}
		}
		complete_effect = {
			USA = {
				country_event = {
					id = TR_japan.45
					days = 1
				}
			}
		}
	}
	JAP_FRA = {
		allowed = {
			always = no
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			base = 100
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.ENG
					days < 365
				}
			}
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.USA
					days < 365
				}
			}
			modifier = {
				add = -5
				has_country_flag = {
					flag = TR_japan.INS
					days > 365
				}
			}
		}
		complete_effect = {
			FRA = {
				country_event = {
					id = TR_japan.46
					days = 1
				}
			}
		}
	}
	JAP_HOL = {
		allowed = {
			always = no
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			base = 100
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.ENG
					days < 365
				}
			}
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.USA
					days > 365
				}
			}
			modifier = {
				add = -5
				has_country_flag = {
					flag = TR_japan.FRA
					days < 365
				}
			}
		}
		complete_effect = {
			HOL = {
				country_event = {
					id = TR_japan.49
					days = 1
				}
			}
		}
	}
}

JAP_WAR_PLAN_CREATE = {
	FOR_WAR_1 = {
		allowed = {
			always = no
		}
		available = {
			num_of_available_civilian_factories > 5
		}
		modifier = {
			civilian_factory_use = 5
		}
		days_remove = 180
	}
	FOR_WAR_2 = {
		available = {
			has_decision = FOR_WAR_1
		}
		available = {
			num_of_available_civilian_factories > 5
		}
		allowed = {
			always = no
		}
		modifier = {
			civilian_factory_use = 5
		}
		days_remove = 180
	}
	FOR_WAR_3 = {
		available = {
			has_decision = FOR_WAR_3
		}
		available = {
			num_of_available_civilian_factories > 5
		}
		allowed = {
			always = no
		}
		modifier = {
			civilian_factory_use = 5
		}
		days_remove = 180
		remove_effect = {
			add_ideas = JAP_imperial_resolve
			unlock_national_focus = jap_final_war
		}
		
	}
}

JAP_WAR_PLAN_CREATE_2 = {
	JAP_ENG.1 = {
		allowed = {
			always = no
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			base = 100
			modifier = {
				add = -99
				has_country_flag = {
					flag = TR_japan.USA
					days < 365
				}
			}
			modifier = {
				add = -5
				has_country_flag = {
					flag = TR_japan.INS
					days < 365
				}
			}
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.FRA
					days < 365
				}
			}
		}
		complete_effect = {
			ENG = {
				country_event = {
					id = TR_japan.53
					days = 1
				}
			}

		}
	}
	JAP_USA.1 = {
		allowed = {
			always = no
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			base = 100
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.ENG
					days < 365
				}

			}
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.FRA
					days < 365
				}
			}
			modifier = {
				add = -5
				has_country_flag = {
					flag = TR_japan.INS
					days < 365
				}
			}
		}
		complete_effect = {
			USA = {
				country_event = {
					id = TR_japan.54
					days = 1
				}
			}
		}
	}
	JAP_FRA.1 = {
		allowed = {
			always = no
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			base = 100
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.ENG
					days < 365
				}
			}
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.USA
					days < 365
				}
			}
			modifier = {
				add = -5
				has_country_flag = {
					flag = TR_japan.INS
					days > 365
				}
			}
		}
		complete_effect = {
			FRA = {
				country_event = {
					id = TR_japan.55
					days = 1
				}
			}
		}
	}
	JAP_HOL.1 = {
		allowed = {
			always = no
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			base = 100
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.ENG
					days < 365
				}
			}
			modifier = {
				add = -45
				has_country_flag = {
					flag = TR_japan.USA
					days > 365
				}
			}
			modifier = {
				add = -5
				has_country_flag = {
					flag = TR_japan.FGE
					days < 365
				}
			}
		}
		complete_effect = {
			HOL = {
				country_event = {
					id = TR_japan.56
					days = 1
				}
			}
		}
	}
}

JAP_KOR_WAR = {
	JAP_KOR_WAR_PREPARE = {
		fire_only_once = yes
		allowed = {
			tag = JAP
		}
		days_mission_timeout = 90
		available = {

			JAP = {
				has_war_with = KOR
			}
			
		}
		timeout_effect = {
			declare_war_on = {
				target = KOR
				type = annex_everything
			}
			activate_targeted_decision = {
				target = JAP
				decision = JAP_KOR_WAR_FIN
			}
			set_global_flag = JAP_KOREA_WAR
		}
		activation = {
			always = no
		}
		selectable_mission = no
		is_good = no
		war_with_on_timeout = JAP
	}
	JAP_KOR_WAR_FIN = {

		fire_only_once = yes
		allowed = {
			tag = JAP
		}
		activation = {
			always = no
		}
		days_mission_timeout = 180
		is_good = yes
		available = {
			not = {
			    JAP = {
				    has_war_with = KOR
			    }
			}
		}
		complete_effect = {
			hidden_effect = {
				JAP = {
					set_country_flag = TR_japan.19
				}
			}
		}
		timeout_effect = {
			white_peace = {
				tag = KOR
			}
			add_ideas = JAP_KOR_DEFEAT
			hidden_effect = {
				JAP = {
					country_event = {
						id = TR_japan.59
						days = 50
					}
				}

			}
		}
	}
}

JAP_balance_of_power_category = {
	JAP_FOR_debug_1 = {
		allowed = {
			original_tag = JAP
		}
		visible = {
			is_debug = yes
		}
		available = {
			is_debug = yes
		}
		complete_effect = {
			add_power_balance_value = {
				id = JAP_balance_of_power
				value = -1.0
			}
		}
	}
	JAP_FOR_debug_2 = {
		allowed = {
			original_tag = JAP
		}
		visible = {
			is_debug = yes
		}
		available = {
			is_debug = yes
		}
		complete_effect = {
			add_power_balance_value = {
				id = JAP_balance_of_power
				value = 1.0
			}
		}
	}
	JAP_bop_high_cost = {
		days_re_enable = 365
		allowed = {
			original_tag = JAP
		}
		available = {
			not = {
				has_country_flag = JAP_bop_low_cost
			}
		}
		complete_effect = {
			set_country_flag = JAP_bop_high_cost
			hidden_effect = {
				country_event = {
					id = TR_japan.72
					days = 365
				}
			}
			add_timed_idea = {
				idea = JAP_military_buff
				days = 365
			}
			add_power_balance_value = {
				id = JAP_balance_of_power
				value = 0.1
			}
		}
		cost = 25
		days_remove = 365
		
	}

	JAP_bop_low_cost = {
		days_re_enable = 365
		allowed = {
			original_tag = JAP
		}
		available = {
			not = {
				has_country_flag = JAP_bop_high_cost
			}
		}
		complete_effect = {
			set_country_flag = JAP_bop_low_cost
			hidden_effect = {
				country_event = {
					id = TR_japan.73
					days = 365
				}
			}
			add_timed_idea = {
				idea = JAP_military_debuff
				days = 365
			}
			add_power_balance_value = {
				id = JAP_balance_of_power
				value = -0.1
			}
			
		}
		cost = 25
		days_remove = 365
	}

	JAP_pro_military_propaganda = {
		days_re_enable = 365
		allowed = {
			original_tag = JAP
		}
		complete_effect = {
			add_power_balance_modifier = {
				id = JAP_balance_of_power
				modifier = JAP_pro_military_propaganda
			}
		}
		cost = 150
		days_remove = 365
	}

	JAP_Taking_in_the_General = {
		days_re_enable = 180
		allowed = {
			original_tag = JAP
		}
		available = {
			not = {
				has_country_flag = JAP_Taking_in_the_cabinet_ministers
			}
		}
		complete_effect = {
			hidden_effect = {
				set_country_flag = JAP_Taking_in_the_Generalb
				country_event = {
					id = TR_japan.74
					days = 180
				}
			}
			add_power_balance_value = {
				id = JAP_balance_of_power
				value = -0.1
			}
		}
		cost = 100
		days_re_enable = 180
	}

	JAP_Taking_in_the_cabinet_ministers = {
		days_re_enable = 180
		available = {
			not = {
				has_country_flag = JAP_Taking_in_the_General
			}
		}
		allowed = {
			original_tag = JAP
		}
		complete_effect = {
			hidden_effect = {
				set_country_flag = JAP_Taking_in_the_cabinet_ministers
				country_event = {
					id = TR_japan.75
					days = 180
				}
			}
			add_power_balance_value = {
				id = JAP_balance_of_power
				value = 0.1
			}
		}
		days_re_enable = 180
		cost = 100
	}
}

JAP_airbornes = {
	Okinawa = {
		allowed = {
			always = no
		}
		fire_only_once = yes
		available = {
			has_tech = paratroopers
			num_battalions_in_states = {
				count > 1
				states = {982 }
				exclude = {
					paratrooper
				}
			}
			not = {
				has_country_flag = JAP_Iojima
			}
		}
		cost = 100
		complete_effect = {
			526 = {
				damage_building = {
					type = air_base
					damage = 2
				}
			}
			hidden_effect = {
				set_country_flag = JAP_Okinawa
			}
		}
	}

	Iojima = {
		allowed = {
			always = no
		}
		fire_only_once = yes
		available = {
			has_tech = paratroopers
			num_battalions_in_states = {
				count > 1
				states = {963 }
				exclude = {
					paratrooper
				}
			}
			not = {
				has_country_flag = JAP_Okinawa
			}
		}
		cost = 100
		complete_effect = {
			645 = {
				damage_building = {
					type = air_base
					damage = 2
				}
			}
			hidden_effect = {
				set_country_flag = JAP_Iojima
			}
		}
	}
}

JAP_lack_food = {
	JAP_lack_food = {
		fire_only_once = yes
		days_mission_timeout = 730
		allowed = {
			tag = JAP
		}
		available = {
			any_enemy_country = {
				is_major = yes
				has_capitulated = no
			}
		}
		timeout_effect = {
			add_ideas = JAP_lack_food
		}
		activation = {
			always = no
		}
		selectable_mission = no
	}
}