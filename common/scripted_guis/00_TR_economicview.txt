scripted_gui = {
	TR_EconomicView = {
		context_type = player_context
		window_name = TR_economicview
		parent_window_token = top_bar
		dirty = economy_button_opened
		visible = {
			check_variable = {
				economy_button_opened = 2
			}
		}
		effects = {
			TR_EV_close_button_click = {
				clear_variable = economy_button_opened
			}
		}
	}
	TR_EV_Budget_Income = {
		window_name = TR_EV_budget_income_graph
		context_type = player_context
		parent_window_name = TR_EV_budget_income

		visible = {
			# has_country_flag = open_line_gui
			# always = no
		}

		effects = {
		}

		# Set up dynamic list to generate one line segment per point
		dynamic_lists = {
			line_segments = {
				array = income_graph_offsets
				change_scope = no
				entry_container = line_graph_line_segment
				index = segment_idx
			}
		}

		properties = {
			segment = {
				# Sets they position of the line segment to the graph offset
				# Equal to -y1
				y = income_graph_offsets^segment_idx

				# Tells the shader how steep to draw the line
				# Must be equal to (y2 - y1) / 2 + 50
				frame = income_graph_slopes^segment_idx
			}
		}

		triggers = {
			# Optional. This hides every other x label, to give them some breathing room
			label_visible = {
				set_temp_variable = { si = segment_idx }
				modulo_temp_variable = { si = 2 }
				check_variable = { si = 0 }
			}
		}
	}
	# TR_EV_Budget_Expenditure = {
	# 	window_name = TR_EV_budget_expenditure_instance
	# 	context_type = player_context

	# 	visible = {
	# 		# has_country_flag = open_line_gui
	# 	}

	# 	effects = {
	# 		add_button_click = {
	# 			# Invoke scripted effect to add a random point to the line
	# 			# See scripted effect file

	# 			# SAMPLE_add_random_point_to_line = yes
	# 		}
	# 	}

	# 	# Set up dynamic list to generate one line segment per point
	# 	dynamic_lists = {
	# 		line_segments = {
	# 			array = expenditure_graph_offsets
	# 			change_scope = no
	# 			entry_container = line_graph_line_segment
	# 			index = segment_idx
	# 		}
	# 	}

	# 	properties = {
	# 		segment = {
	# 			# Sets they position of the line segment to the graph offset
	# 			# Equal to -y1
	# 			y = expenditure_graph_offsets^segment_idx

	# 			# Tells the shader how steep to draw the line
	# 			# Must be equal to (y2 - y1) / 2 + 50
	# 			frame = expenditure_graph_slopes^segment_idx
	# 		}
	# 	}

	# 	triggers = {
	# 		# Optional. This hides every other x label, to give them some breathing room
	# 		label_visible = {
	# 			set_temp_variable = { si = segment_idx }
	# 			modulo_temp_variable = { si = 2 }
	# 			check_variable = { si = 0 }
	# 		}
	# 	}
	# }
}